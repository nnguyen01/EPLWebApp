<!-- index.html -->
<!DOCTYPE html>
<!-- dashboard.componenet.html -->
<!--   //template: '<h1>Angular Router</h1><nav><a routerLink="/login" routerLinkActive="active">Login</a></nav><router-outlet></router-outlet>'
  -->
<html>

<body>

	<!-- Navigation bar on top -->
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">

			<!-- Header -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false"
				 aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<!-- Title -->
				<img src="assets/EPL_Logo.png" alt="EPL" height="40" width="250">
				<!-- <a class="navbar-brand" routerLink="/dashboard">EPL ScavHunt Admin</a> -->
			</div>

			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">
					<a routerLink="/dashboard">Dashboard</a>
				</ul>
				<form class="navbar-form navbar-right">
					<input type="text" class="form-control" placeholder="Search...">
				</form>
			</div>
		</div>
	</nav>

	<!-- Side navigation bar -->
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-3 col-md-2 sidebar">
				<ul class="nav nav-sidebar">
					<li class="active">
						<a routerLink="/dashboard">Dashboard
							<span class="sr-only">(current)</span>
						</a>
					</li>
					<li>
						<a routerLink="/dashboard/landing" routerLinkActive="active">Questions</a>
					</li>
					<li>
						<a routerLink="/dashboard/analytics">Analytics</a>
					</li>
				</ul>
				<ul class="nav nav-sidebar">
					<li>
						<a routerLink="/dashboard">Notifications</a>
					</li>
					<li>
						<a routerLink="/dashboard">Settings</a>
					</li>
				</ul>
			</div>
		</div>

		<!-- Dashboard interior -->
		<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
			<h1 class="page-header">Add a Question</h1>
			<div class="container">

				<form (ngSubmit)="onSubmit()" #addQuestionForm="ngForm">
					<div class="form-group">
						<label for="branch">Library Branch</label>
						<select class="form-control" id="branch" required [(ngModel)]="question.branch" name="branch">
							<option *ngFor="let branch of branches" [value]="branch">{{branch}}</option>
						</select>
					</div>

					<div class="form-group">
						<label for="qType">Question type</label>
						<select class="form-control" id="qType" required [(ngModel)]="question.qType" name="qType">
							<option *ngFor="let qType of qTypes" [value]="qType">{{qType}}</option>
						</select>
					</div>

					<div class="form-group">
						<label for="zone">Zone</label>
						<select class="form-control" id="zone" required [(ngModel)]="question.zone" name="zone">
							<option *ngFor="let zone of zones" [value]="zone">{{zone}}</option>
						</select>
					</div>

					<div class="form-group">
						<label for="prompt">Question prompt</label>
						<input type="text" class="form-control" id="prompt" required [(ngModel)]="question.prompt" name="prompt">
					</div>

					<div [hidden]="(question.qType != 'multChoice')" class="form-group">
						<label for="choice">Enter Multiple choices (separated by commas)</label>
						<input type="text" class="form-control" id="choice" required [disabled]="(question.qType != 'multChoice')" [(ngModel)]="question.Choices"
						 name="Choices">
					</div>

					<div class="form-group">
						<label for="solution">Solution (type a choice as the solution for multChoice questions)</label>
						<input type="text" class="form-control" id="solution" required [(ngModel)]="question.solution" name="solution">
					</div>

					<div class="form-group">
						<label for="iLink">Enter image URL that the question will display</label>
						<input type="text" class="form-control" id="iLink" required [(ngModel)]="question.iLink" name="iLink" required pattern="https?://.+"
						 #iLink="ngModel">
					</div>
					<div [hidden]="iLink.valid || iLink.pristine" class="alert alert-danger">
						Valid image URL required
					</div>

					<div class="form-group">
						<label for="sLink">Enter sound URL that the question will play (optional)</label>
						<input type="text" class="form-control" id="sLink" [(ngModel)]="question.sLink" name="sLink" pattern="https?://.+" #sLink="ngModel">

						<div [hidden]="sLink.valid || sLink.pristine" class="alert alert-danger">
							URL not valid. Provide a valid sound URL or leave blank.
						</div>
					</div>
					<button type="submit" class="btn btn-success" [disabled]="!addQuestionForm.form.valid">Submit</button>

				</form>
			</div>

			<div>
				{{'Contents of the Question instance: ' + question.toStr()}}
			</div>

			<h3>Picture and sound Preview: </h3>
			<div>
				<img src={{question.iLink}} (error)="errorHandler($event)" style="width:300px">
			</div>

			<div>
				<button class="btn" (click)="playAudio()" [disabled]="(question.sLink == '')">Play sound</button>
			</div>

		</div>

	</div>

</body>

</html>